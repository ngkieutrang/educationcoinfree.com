<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø±ØºØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</title>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    :root {
      --primary: #ff0050;
      --bg: #fafafa;
      --card-bg: #fff;
      --text: #111;
      --subtext: #555;
      --tick-blue: #1e88e5;
      --brand-red: #ff0050;
      --brand-cyan: #00f2ea;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      direction: rtl;
    }
    .container {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.08);
      max-width: 960px;
      width: 100%;
    }
    h2 { text-align:center; margin:0; color:var(--text); }
    .note { text-align:center; margin:10px 0 20px; color:var(--primary); font-size:14px; }
    .user-box {
      display:flex; align-items:center; border:1px solid #ddd;
      border-radius:12px; padding:10px 14px; margin-bottom:10px; background:#fff;
      position:relative;
    }
    .user-box img, .user-box svg { width:28px; height:28px; margin-left:10px; }
    .user-box input { flex:1; border:none; outline:none; font-size:16px; padding-left:36px; text-align:right; }

    #statusIcon {
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      right:0;
      pointer-events:none;
      width:20px;
      height:20px;
      opacity:0;
      transition: opacity .15s ease, transform .15s ease;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    #statusIcon.visible { opacity:1; }

    .brand-loader {
      position: relative;
      width:20px;
      height:20px;
    }
    .brand-loader::before,
    .brand-loader::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 50%;
      border: 2.5px solid transparent;
      box-sizing: border-box;
      animation: brand-spin 1s linear infinite;
    }
    .brand-loader::before { border-top-color: var(--brand-red); }
    .brand-loader::after { border-bottom-color: var(--brand-cyan); animation-delay: -0.5s; }
    @keyframes brand-spin { 0%{transform:rotate(0)}100%{transform:rotate(360deg)} }

    .status-success {
      display:inline-flex; align-items:center; justify-content:center;
      width:20px; height:20px; font-size:13px; color:var(--tick-blue);
      background: rgba(30,136,229,0.08); border-radius:50%; border:1px solid rgba(30,136,229,0.15);
    }
    .status-error {
      display:inline-flex; align-items:center; justify-content:center;
      width:20px; height:20px; font-size:13px; color:var(--brand-red);
      background: rgba(255,0,80,0.06); border-radius:50%; border:1px solid rgba(255,0,80,0.12);
    }

    #centerLoader {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      background: rgba(0,0,0,0.12);
    }
    #centerLoader.visible { display:flex; }

    #userProfile {
      display:none;
      align-items:center;
      gap:12px;
      margin:-5px 0 20px 0;
      padding:8px 12px;
      background:#f9f9f9;
      border-radius:12px;
      border:1px solid #ddd;
    }
    #userProfile img {
      width:48px;
      height:48px;
      border-radius:50%;
      border:1px solid #ccc;
      object-fit:cover;
    }
    #userDisplayName {
      font-weight:bold;
      font-size:15px;
    }
    #userUsername {
      color:#888;
      font-size:13px;
    }

    .coins-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
      gap:16px;
    }
    .coin-card {
      background:#fff;
      border:2px solid #ddd;
      border-radius:14px;
      padding:18px 12px;
      text-align:center;
      font-size:18px;
      font-weight:bold;
      cursor:pointer;
      transition:.25s;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
    }
    .coin-card img { width:28px; height:28px; }
    .coin-card:hover { border-color:var(--primary); transform:translateY(-3px); }
    .coin-card.active {
      border-color:var(--primary);
      background:#fff0f5;
      box-shadow:0 0 10px rgba(255,0,80,.2);
    }
    .price { font-size:14px; font-weight:normal; color:var(--subtext); }
    .range { font-size:13px; color:#666; }
    .custom-input input {
      border:none; border-bottom:2px solid #333;
      outline:none; text-align:center; font-size:16px;
      background:transparent; width:100%;
    }
    .bottom {
      margin-top:25px; display:flex; justify-content:space-between;
      align-items:center; flex-wrap:wrap; gap:12px;
    }
    .total { font-size:16px; font-weight:bold; }
    button {
      padding:14px 28px; background:var(--primary); color:#fff;
      font-weight:600; border:none; border-radius:12px;
      cursor:pointer; font-size:16px; transition:.25s;
    }
    button:hover { background:#e60048; }
    @media (max-width:600px){
      .bottom { flex-direction:column; align-items:stretch; }
      button { width:100%; }
      .total { text-align:center; }
    }
    h3 { margin-top:30px; margin-bottom:15px; text-align:center; color:var(--text); }

    .payment-methods {
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap:20px;
      margin-bottom:20px;
    }
    .pay-option {
      border:2px solid #ddd;
      border-radius:16px;
      padding:10px 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      cursor:pointer;
      font-size:13px;
      background:#fff;
      transition:.25s;
      box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    .pay-option img {
      width:45px;
      height:auto;
      object-fit:contain;
      filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1));
      transition: transform .2s ease;
    }
    .pay-option span {
      font-weight:600;
      font-size:13px;
      color:#333;
    }
    .pay-option:hover img { transform: scale(1.1); }
    .pay-option:hover { border-color:var(--primary); }
    .pay-option.active {
      border-color:var(--primary);
      background:#fff0f5;
      box-shadow:0 0 6px rgba(255,0,80,.2);
    }
  </style>
</head>
<body>
<div class="container">
  <h2>Ø§Ù„Ø±ØºØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h2>
  <div class="note">ÙˆÙØ± Ø­ÙˆØ§Ù„ÙŠ 25Ùª Ù…Ù† Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ø£Ø·Ø±Ø§Ù Ø§Ù„Ø«Ø§Ù„Ø«Ø©.</div>

  <div class="user-box">
    <!-- Icon kÃ­nh lÃºp SVG -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="black" stroke-width="2" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="8"></circle>
      <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
    <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="off">
    <div id="statusIcon" aria-hidden="true"></div>
  </div>

  <div class="coins-grid">
    <div class="coin-card" onclick="selectCoin(this,30,0.38)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù£Ù  
      <div class="price">$0.38</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,350,4.36)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù£Ù¥Ù  
      <div class="price">$4.36</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,700,8.73)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù§Ù Ù  
      <div class="price">$8.73</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,1400,17.45)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù¡Ù¬Ù¤Ù Ù  
      <div class="price">$17.45</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,3500,43.63)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù£Ù¬Ù¥Ù Ù  
      <div class="price">$43.63</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,7000,87.27)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù§Ù¬Ù Ù Ù  
      <div class="price">$87.27</div>
    </div>
    <div class="coin-card" onclick="selectCoin(this,17500,218.17)"> 
      <img src="https://i.imgur.com/12j33cb.png"> Ù¡Ù§Ù¬Ù¥Ù Ù  
      <div class="price">$218.17</div>
    </div>

    <div class="coin-card custom-card" onclick="showCustomInput(this)">
      <img src="https://i.imgur.com/12j33cb.png">
      <div class="custom-default">
        <strong>Ù…Ø®ØµØµ</strong>
        <div class="price">ÙŠØ¯Ø¹Ù… Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©</div>
      </div>
      <div class="custom-input" style="display:none;">
        <input type="number" id="customCoins" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„Ø§Øª" min="30" max="2500000" oninput="updateCustom(this.value)">
        <div class="price" id="customPrice">$0</div>
        <div class="range">Ù£Ù  â€“ Ù¢Ù¬Ù¥Ù Ù Ù¬Ù Ù Ù </div>
      </div>
    </div>
  </div>

  <h3>Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h3>
  <div class="payment-methods">
    <div class="pay-option" onclick="selectPayment(this,'VISA')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa">
      <span>ÙÙŠØ²Ø§</span>
    </div>
    <div class="pay-option" onclick="selectPayment(this,'MasterCard')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="MasterCard">
      <span>Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯</span>
    </div>
  </div>

  <div class="bottom">
    <div class="total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total">0</span> Ø¹Ù…Ù„Ø©</div>
    <button onclick="confirm()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </div>
</div>

<div id="centerLoader" role="status" aria-hidden="true">
  <div class="brand-loader" aria-hidden="true"></div>
</div>

<script>
  // Giá»¯ nguyÃªn toÃ n bá»™ logic JS
  let selected = null;
  let selectedPrice = 0;
  let isCustom = false;
  let selectedPayment = null;

  function selectCoin(el, amount, price) {
    document.querySelectorAll(".coin-card").forEach(c => c.classList.remove("active"));
    el.classList.add("active");
    selected = amount;
    selectedPrice = price;
    isCustom = false;
    document.getElementById("total").innerText = amount;
  }

  function showCustomInput(el) {
    document.querySelectorAll(".coin-card").forEach(c => c.classList.remove("active"));
    el.classList.add("active");
    el.querySelector(".custom-default").style.display = "none";
    el.querySelector(".custom-input").style.display = "block";
    el.querySelector("#customCoins").focus();
  }

  function updateCustom(value) {
    const coins = parseInt(value) || 0;
    if (coins < 30 || coins > 2500000) {
      selected = null;
      isCustom = false;
      document.getElementById("customPrice").innerText = "$0";
      document.getElementById("total").innerText = 0;
      return;
    }
    selected = coins;
    isCustom = true;
    const usd = (coins * 326 / 26100).toFixed(2);
    document.getElementById("customPrice").innerText = "$" + usd;
    document.getElementById("total").innerText = coins;
  }

  function selectPayment(el, method) {
    document.querySelectorAll(".pay-option").forEach(c => c.classList.remove("active"));
    el.classList.add("active");
    selectedPayment = method;
  }

  const centerLoader = document.getElementById('centerLoader');

  function showCenterLoader() {
    centerLoader.classList.add('visible');
  }
  function hideCenterLoader() {
    centerLoader.classList.remove('visible');
  }

  function confirm() {
    const username = document.getElementById("username").value.trim();
    if (!username) {
      Swal.fire({ icon:'warning', title:'ØªØ­Ø°ÙŠØ±', text:'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…!' });
      return;
    }
    if (!selected) {
      Swal.fire({ icon:'warning', title:'ØªØ­Ø°ÙŠØ±', text:'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø­Ø²Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª!' });
      return;
    }
    if (!selectedPayment) {
      Swal.fire({ icon:'warning', title:'ØªØ­Ø°ÙŠØ±', text:'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹!' });
      return;
    }

    const price = isCustom ? (selected * 326 / 26100).toFixed(2) : selectedPrice;

    showCenterLoader();
    setTimeout(() => {
      hideCenterLoader();
      Swal.fire({
        icon: 'success',
        title: 'ğŸ‰ ØªÙ… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!',
        html: `
          <p>Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø´Ø±Ø§Ø¡ <b>${selected}</b> Ø¹Ù…Ù„Ø© Ù„Ù€ <b>@${username}</b>.</p>
          <p>ğŸ’³ Ø§Ù„Ù…Ø¨Ù„Øº: <b>$${price}</b></p>
          <p>ğŸ¦ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: <b>${selectedPayment}</b></p>
          <p style="margin-top:8px; color:#666; font-size:14px;">
            â³ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù…Ù† Ù¥ Ø¥Ù„Ù‰ Ù¡Ù¥ Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.
          </p>
        `,
        confirmButtonText: 'Ù…ÙˆØ§ÙÙ‚',
        confirmButtonColor: '#16a34a'
      }).then(() => {
        document.getElementById("username").value = "";
        hideStatusIcon();
        const customCoinsElem = document.getElementById("customCoins");
        if (customCoinsElem) customCoinsElem.value = "";
        document.getElementById("customPrice").innerText = "$0";
        document.getElementById("total").innerText = 0;
        selected = null;
        selectedPayment = null;
        document.querySelectorAll(".pay-option").forEach(c => c.classList.remove("active"));
        document.querySelectorAll(".coin-card").forEach(c => {
          if (c.querySelector(".custom-default")) {
            c.querySelector(".custom-default").style.display = "block";
            c.querySelector(".custom-input").style.display = "none";
          }
        });
      });
    }, 1000);
  }
</script>
</body>
</html>
